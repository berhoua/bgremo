(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{2406:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=2406,e.exports=t},7404:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),n=r(2635),s=r(7005),i=r(7964),l=r(7170),o=r(2265),c=r(5038),d=r(7223),u=r(9797),g=r(6760),m=r(795);r(9837);var h=r(9278),p=r(7899);let x=[{id:"transparent",color:"transparent"},{id:"white",color:"#FFFFFF"},{id:"black",color:"#000000"},{id:"purple",color:"#800080"},{id:"pink",color:"#FFC0CB"},{id:"yellow",color:"#FFFF00"}];function f(){let[e,t]=(0,o.useState)(!0),[r,f]=(0,o.useState)(!1),[b,v]=(0,o.useState)(null),[w,C]=(0,o.useState)("transparent"),[j,y]=(0,o.useState)(!1),[N,A]=(0,o.useState)(!1),[E,k]=(0,o.useState)("#6C5CE7"),[z,S]=(0,o.useState)(!1),[F,U]=(0,o.useState)(!1),[R,I]=(0,o.useState)(),[T,B]=(0,o.useState)(),W=(0,o.useRef)(null),L=(0,o.useRef)(null),Q=(0,n.oR)(),V=(0,n.Q)("images"),_=(0,o.useRef)(null),G=(0,o.useRef)(null),D=(0,o.useRef)(!0),M=e=>{console.error("Error loading model:",e),v(e instanceof Error?e:Error("Failed to load model")),t(!1)},{getRootProps:O,getInputProps:P,isDragActive:K,isDragAccept:Y,isDragReject:H}=(0,c.uI)({onDrop:(0,o.useCallback)(e=>{A(!1),y(!1);let t=async e=>new Promise((t,r)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>{let n=a.result,s=new Image;s.src=n,s.onload=()=>{null==Q||Q.transaction(()=>{Q.addRow("images",{name:e.name,size:e.size,imageUrl:n,mediaType:e.type,height:s.height,width:s.width})}),t()},s.onerror=()=>{r(Error("Failed to load image"))}},a.onerror=e=>{r(e),u.Am.error("Error converting file to base64:".concat(e))}});(async()=>{try{for(let r of e)await t(r)}catch(e){console.error("Error processing files:",e)}})()},[Q]),accept:{"image/*":[".jpeg",".jpg",".png"]}}),q=(0,o.useCallback)(async()=>{try{let e=_.current,t=G.current;if(!e||!t||!(null==Q?void 0:Q.hasTable("images"))||0===V.length)return;for(let r=0;r<V.length;r++)if(null==Q||!Q.getCell("images","".concat(V[r]),"transformedImageUrl"))try{let a=await i.OPz.fromURL(null==Q?void 0:Q.getCell("images","".concat(V[r]),"imageUrl")),{pixel_values:n}=await t(a),{output:s}=await e({input:n}),l=(await i.OPz.fromTensor(s[0].mul(255).to("uint8")).resize(a.width,a.height)).data,o=document.createElement("canvas");o.width=a.width,o.height=a.height;let c=o.getContext("2d");if(c){c.drawImage(a.toCanvas(),0,0);let e=c.getImageData(0,0,a.width,a.height);for(let t=0;t<l.length;++t)e.data[4*t+3]=l[t];if(c.putImageData(e,0,0),"transparent"!==w){let e=document.createElement("canvas");e.width=o.width,e.height=o.height;let t=e.getContext("2d");t&&(t.fillStyle=w,t.fillRect(0,0,e.width,e.height),t.drawImage(o,0,0),c.clearRect(0,0,o.width,o.height),c.drawImage(e,0,0))}let t=o.toDataURL("image/png");await new Promise(e=>{null==Q||Q.transaction(()=>{null==Q||Q.setCell("images","".concat(V[r]),"transformedImageUrl",t),null==Q||Q.setCell("images","".concat(V[r]),"width",o.width),null==Q||Q.setCell("images","".concat(V[r]),"height",o.height),null==Q||Q.setCell("images","".concat(V[r]),"mediaType","image/png"),e()})})}s[0].dispose(),n.dispose()}catch(e){console.error("Error processing image:",e);continue}return A(!0),y(!0),!0}catch(e){return console.error("Error in processImages:",e),!1}finally{f(!1)}},[V,w,Q]);(0,o.useEffect)(()=>((async()=>{try{let e={log:console.log,warn:console.warn,error:console.error,info:console.info},r=[/github\.com/i,/huggingface/i,/transformers/i,/model/i,/RMBG/i,/briaai/i,/pretrained/i,/loading/i,/http/i,/processor/i],a=t=>function(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];n.some(e=>r.some(t=>String(e).match(t)))||e[t].apply(console,n)};console.log=a("log"),console.warn=a("warn"),console.error=a("error"),console.info=a("info");let n="briaai/RMBG-1.4";try{if(_.current=await i.$Sz.from_pretrained(n,{device:"gpu"in navigator?"webgpu":"cpu"}).catch(e=>(M(e),null)),!_.current||(G.current=await i.Za9.from_pretrained(n,{device:"gpu"in navigator?"webgpu":"cpu"}).catch(e=>(M(e),null)),!G.current))return;console.log=e.log,console.warn=e.warn,console.error=e.error,console.info=e.info,t(!1)}catch(e){M(e);return}}catch(e){M(e)}})(),()=>{_.current&&(_.current=null),G.current&&(G.current=null)}),[]),(0,o.useEffect)(()=>{(async()=>{!e&&D.current&&V.length>0&&(f(!0),await q())})()},[V,q,e]),(0,o.useEffect)(()=>()=>{f(!1),A(!1),y(!1),C("transparent"),S(!1),U(!1),I(void 0),B(void 0),(null==Q?void 0:Q.hasTable("images"))&&Q.transaction(()=>{Q.delTable("images")}),_.current&&(_.current=null),G.current&&(G.current=null)},[Q]);let Z=async()=>{let e=V[0],t=null==Q?void 0:Q.getCell("images",e,"name"),r=null==Q?void 0:Q.getCell("images",e,"transformedImageUrl"),a=document.createElement("canvas"),n=new Image;n.onload=()=>{a.width=n.width,a.height=n.height;let e=a.getContext("2d");e&&("transparent"!==w&&(e.fillStyle=w,e.fillRect(0,0,a.width,a.height)),e.drawImage(n,0,0),a.toBlob(e=>{e&&(0,l.saveAs)(e,t)},"image/png"))},n.src=r},$=(0,o.useCallback)(()=>{if(!T||!L.current)return;let e=document.createElement("canvas"),t=e.getContext("2d");if(!t)return;let r=L.current,a=r.naturalWidth/r.width,n=r.naturalHeight/r.height;e.width=T.width,e.height=T.height,"transparent"!==w&&(t.fillStyle=w,t.fillRect(0,0,e.width,e.height)),t.drawImage(r,T.x*a,T.y*n,T.width*a,T.height*n,0,0,T.width,T.height),e.toBlob(e=>{if(!e)return;let t=(null==Q?void 0:Q.getCell("images",V[0],"name")).replace(/\.(png|jpg|jpeg|gif)$/i,"");(0,l.saveAs)(e,"".concat(t,"_cropped.png")),U(!1)})},[T,Q,V,w]);return b?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-danger",children:"Unable to Load Resources"}),(0,a.jsx)("div",{className:"rounded-xl border border-danger/20 bg-dangerForeground px-4 py-3",children:(0,a.jsx)("p",{className:"text-danger",children:"Please refresh the page and try again. If the problem persists, contact support."})})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,a.jsxs)("div",{className:"w-full max-w-[640px] flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-full flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-0 mb-4",children:(null==Q?void 0:Q.hasTable("images"))&&V.length>0&&N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-1.5",children:[x.map(e=>{let{id:t,color:r}=e;return(0,a.jsx)("button",{onClick:()=>{C(r),S(!1)},className:(0,s.cn)("group relative size-8 rounded-2xl border-2 transition-all hover:scale-105 hover:shadow-lg",w!==r||z?"border-gray-200 hover:border-[#6C5CE7]/50":"border-[#6C5CE7] ring-4 ring-[#6C5CE7]/20 shadow-lg scale-105","transparent"===t&&"bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC')] bg-repeat"),style:{backgroundColor:"transparent"===r?"transparent":r},"aria-label":"Select ".concat(t," background"),children:w===r&&!z&&(0,a.jsx)("div",{className:"absolute -right-1 -top-1 size-3 rounded-full bg-[#6C5CE7] ring-2 ring-white shadow-md",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-full p-0.5",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})})},t)}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsxs)("button",{onClick:()=>{var e;S(!0),C(E),null===(e=W.current)||void 0===e||e.click()},className:(0,s.cn)("group relative size-8 rounded-2xl border-2 transition-all hover:scale-105 hover:shadow-lg",z?"border-[#6C5CE7] ring-4 ring-[#6C5CE7]/20 shadow-lg scale-105":"border-gray-200 hover:border-[#6C5CE7]/50"),style:{backgroundColor:E},"aria-label":"Select custom color",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute left-1/2 top-1/2 size-4 -translate-x-1/2 -translate-y-1/2 opacity-50 transition-opacity group-hover:opacity-100",children:(0,a.jsx)("path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 4-9 4-13 0-1.5-1.5-3-4-3s-4 1.5-4 3m0 12c-1.5 0-2.75 1.06-4 1.06-3 0-4-9-4-13 0-1.5 1.5-3 4-3s4 1.5 4 3"})}),z&&(0,a.jsx)("div",{className:"absolute -right-1 -top-1 size-3 rounded-full bg-[#6C5CE7] ring-2 ring-white shadow-md",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-full p-0.5",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]}),(0,a.jsx)("input",{ref:W,type:"color",value:E,onChange:e=>{k(e.target.value),C(e.target.value),S(!0)},className:"absolute size-0 opacity-0","aria-label":"Choose custom color"})]})]}),(0,a.jsx)("div",{className:"w-full sm:w-auto mt-4 sm:mt-0",children:(0,a.jsxs)("div",{className:"relative inline-flex rounded-full bg-gradient-to-r from-[#6C5CE7]/10 via-[#6C5CE7]/5 to-[#6C5CE7]/10 p-1 shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-1 w-1/2 rounded-full bg-white shadow-md transition-transform duration-300 ease-in-out",style:{transform:"translateX(".concat(j?"100%":"0",")")}}),(0,a.jsx)("button",{onClick:()=>y(!1),className:(0,s.cn)("relative px-4 py-1.5 text-xs font-medium transition-colors duration-200",j?"text-secondary hover:text-primary":"text-[#6C5CE7]"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-3",children:[(0,a.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,a.jsx)("path",{d:"M12 18v-2"}),(0,a.jsx)("path",{d:"M12 8V6"})]}),"Before"]})}),(0,a.jsx)("button",{onClick:()=>y(!0),className:(0,s.cn)("relative px-4 py-1.5 text-xs font-medium transition-colors duration-200",j?"text-[#6C5CE7]":"text-secondary hover:text-primary"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"size-3",children:[(0,a.jsx)("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),(0,a.jsx)("path",{d:"m9 12 2 2 4-4"})]}),"After"]})})]})})]})}),(0,a.jsxs)("div",{...O(),className:(0,s.cn)("relative aspect-[3/2] w-full",K&&"pointer-events-none",N&&"pointer-events-none"),children:[(e||r)&&(0,a.jsxs)("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[#6C5CE7]",children:[(0,a.jsx)(d.WUS,{className:"size-5 animate-spin"}),(0,a.jsx)("span",{className:"font-medium",children:"Wait, we're working on it."})]}),(0,a.jsx)("div",{className:"mt-2 text-sm text-[#6C5CE7]/70",children:"Loading our AI model for the best results..."})]}),(0,a.jsxs)("div",{className:(0,s.cn)("flex size-full flex-col items-center justify-center rounded-lg border-2 border-white bg-white shadow-lg transition-all duration-300",Y?"border-success bg-success/5":H?"border-danger bg-danger/5":K?"border-[#6C5CE7] bg-[#6C5CE7]/5":"bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC')] bg-repeat",(null==Q?void 0:Q.hasTable("images"))&&V.length>0&&"bg-none",(e||r)&&"filter blur-[2px] transition-all duration-300"),style:(null==Q?void 0:Q.hasTable("images"))&&V.length>0?{backgroundImage:"".concat("transparent"===w?"url(".concat(j?null==Q?void 0:Q.getCell("images",V[0],"transformedImageUrl"):null==Q?void 0:Q.getCell("images",V[0],"imageUrl"),"), url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC')"):"url(".concat(j?null==Q?void 0:Q.getCell("images",V[0],"transformedImageUrl"):null==Q?void 0:Q.getCell("images",V[0],"imageUrl"),")")),backgroundSize:"transparent"===w?"contain, 10px 10px":"contain",backgroundPosition:"center",backgroundRepeat:"transparent"===w?"no-repeat, repeat":"no-repeat",backgroundColor:"transparent"===w?"transparent":w}:{},children:[(0,a.jsx)("input",{...P(),className:"hidden",accept:"image/jpeg,image/png,image/webp","aria-hidden":"true"}),(!(null==Q?void 0:Q.hasTable("images"))||0===V.length)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)("button",{type:"button",disabled:e,className:(0,s.cn)("inline-flex w-fit items-center justify-center overflow-hidden rounded-lg bg-[#6C5CE7] px-6 py-3 text-white transition-all duration-200 hover:bg-[#5a4bd4] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#6C5CE7] focus-visible:ring-offset-2",e&&"opacity-70 cursor-not-allowed"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[e?(0,a.jsx)(d.WUS,{className:"size-6 animate-spin"}):(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",className:"size-6",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_8829_13883)",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"12",fillOpacity:"0.15"}),(0,a.jsx)("path",{d:"M18 11H13V6C13 5.73478 12.8946 5.48043 12.7071 5.29289C12.5196 5.10536 12.2652 5 12 5C11.7348 5 11.4804 5.10536 11.2929 5.29289C11.1054 5.48043 11 5.73478 11 6V11H6C5.73478 11 5.48043 11.1054 5.29289 11.2929C5.10536 11.4804 5 11.7348 5 12C5 12.2652 5.10536 12.5196 5.29289 12.7071C5.48043 12.8946 5.73478 13 6 13H11V18C11 18.2652 11.1054 18.5196 11.2929 18.7071C11.4804 18.8946 11.7348 19 12 19C12.2652 19 12.5196 18.8946 12.7071 18.7071C12.8946 18.5196 13 18.2652 13 18V13H18C18.2652 13 18.5196 12.8946 18.7071 12.7071C18.8946 12.5196 19 12.2652 19 12C19 11.7348 18.8946 11.4804 18.7071 11.2929C18.5196 11.1054 18.2652 11 18 11Z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_8829_13883",children:(0,a.jsx)("rect",{width:"24",height:"24"})})})]}),(0,a.jsx)("span",{className:"font-semibold",children:e?"Wait, we&apos;re working on it.":"Start from a photo"})]})})}),(0,a.jsx)("div",{className:"font-semibold text-gray-900",children:e?"":"Or drop an image here"})]})]}),K&&(0,a.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-lg bg-white/30 backdrop-blur-sm transition-all duration-300",children:(0,a.jsx)("div",{className:"text-lg font-semibold text-[#6C5CE7]",children:"Drop your image here"})})]})]}),(null==Q?void 0:Q.hasTable("images"))&&V.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 px-4 sm:px-0",children:[N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.z,{type:"button",onClick:Z,className:"w-full sm:w-auto group relative overflow-hidden bg-[#6C5CE7] text-white shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] px-6 rounded-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)(d.$0x,{className:"mr-2 size-4 transition-transform duration-200 group-hover:scale-110"}),(0,a.jsx)("span",{className:"font-medium",children:"Download"})]})]}),(0,a.jsxs)(g.z,{type:"button",onClick:()=>U(!0),className:"w-full sm:w-auto group relative overflow-hidden bg-[#6C5CE7] text-white shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] px-6 rounded-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)(d.l_M,{className:"mr-2 size-4 transition-transform duration-200 group-hover:scale-110"}),(0,a.jsx)("span",{className:"font-medium",children:"Crop"})]})]})]}):(0,a.jsxs)(g.z,{type:"button",onClick:q,disabled:r||e,className:(0,s.cn)("w-full sm:w-auto group relative overflow-hidden bg-[#6C5CE7] text-white shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] px-6 rounded-full",(r||e)&&"pl-10"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"}),(r||e)&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center",children:(0,a.jsx)(d.WUS,{className:"size-4 animate-spin"})}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[!r&&!e&&(0,a.jsx)(d.cgd,{className:"mr-2 size-4 transition-transform duration-200 group-hover:scale-110"}),(0,a.jsx)("span",{className:"font-medium",children:r||e?"Processing...":"Process Image"})]})]}),(0,a.jsxs)(g.z,{type:"button",onClick:()=>{null==Q||Q.transaction(()=>{null==Q||Q.delTable("images")}),y(!1),C("transparent"),A(!1)},variant:"outline",className:"w-full sm:w-auto group relative overflow-hidden border-2 border-[#6C5CE7]/20 hover:border-[#6C5CE7]/30 bg-white shadow-sm transition-all hover:shadow-md hover:scale-[1.02] active:scale-[0.98] px-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#6C5CE7]/0 via-[#6C5CE7]/5 to-[#6C5CE7]/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)("span",{className:"mr-2 text-lg text-[#6C5CE7] transition-transform duration-200 group-hover:scale-110",children:"+"}),(0,a.jsx)("span",{className:"font-medium text-[#6C5CE7]",children:"Upload New"})]})]})]})]}),(0,a.jsx)(h.ZA,{isOpen:F,onOpenChange:U,isDismissable:!0,className:e=>{let{isEntering:t,isExiting:r}=e;return"\n                fixed inset-0 z-50 overflow-y-auto bg-background/25 flex min-h-full items-center justify-center p-2 sm:p-4 text-center backdrop-blur\n                ".concat(t?"animate-in fade-in duration-300 ease-out":"","\n                ").concat(r?"animate-out fade-out duration-200 ease-in":"","\n                ")},children:(0,a.jsx)(h.u_,{className:e=>{let{isEntering:t,isExiting:r}=e;return"\n                    w-full max-w-[calc(100vw-1rem)] sm:max-w-4xl overflow-hidden rounded-2xl bg-foreground p-4 sm:p-6 text-left align-middle shadow-xl\n                    ".concat(t?"animate-in zoom-in-95 ease-out duration-300":"","\n                    ").concat(r?"animate-out zoom-out-95 ease-in duration-200":"","\n                    ")},children:(0,a.jsx)(p.Vq,{role:"dialog",className:"relative outline-none",children:e=>{let{close:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-primary",children:"Crop Image"}),(0,a.jsx)("p",{className:"text-sm text-secondary",children:"Drag to create a crop area, then click Download to save the cropped image."})]}),(0,a.jsx)("div",{className:"relative",style:{backgroundColor:w},children:(0,a.jsx)(m.ZP,{crop:R,onChange:e=>I(e),onComplete:e=>B(e),aspect:void 0,children:(0,a.jsx)("img",{ref:L,src:null==Q?void 0:Q.getCell("images",V[0],"transformedImageUrl"),alt:"Crop",className:"max-h-[60vh] w-full object-contain"})})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-end gap-3",children:[(0,a.jsx)(g.z,{type:"button",variant:"outline",onClick:()=>t(),className:"px-4",children:"Cancel"}),(0,a.jsxs)(g.z,{type:"button",onClick:$,disabled:!T,className:"group relative overflow-hidden bg-[#6C5CE7] text-white shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] px-6 rounded-full disabled:opacity-50 disabled:hover:scale-100 disabled:hover:shadow-lg",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"}),(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)(d.$0x,{className:"mr-2 size-4 transition-transform duration-200 group-hover:scale-110"}),(0,a.jsx)("span",{className:"font-medium",children:"Download Cropped"})]})]})]}),(0,a.jsx)("button",{onClick:()=>t(),className:"absolute right-2 top-2 flex size-6 items-center justify-center rounded-full bg-background/50 text-primary hover:bg-background/70",children:"✕"})]})}})})})]})}},6760:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),n=r(7005),s=r(4938),i=r(4564),l=r(2265);let o={unpressed:{scale:[null,.85,1],opacity:1},pressed:{scale:.85,opacity:.7,transition:{type:"spring",duration:.3,bounce:.5}}},c=(0,s.j)("inline-flex items-center justify-center focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{outline:"rounded-md border border-accent bg-foreground px-2 py-1 text-sm text-primary disabled:bg-foreground/50 disabled:text-primary/50",focus:"rounded-md border border-accent bg-accent px-2 py-1 text-sm text-primary disabled:bg-accent/50 disabled:text-primary/50",danger:"rounded-md border border-danger/20 bg-dangerForeground px-2 py-1 text-sm text-danger disabled:bg-dangerForeground/50 disabled:text-danger/50",warning:"rounded-md border border-warning/20 bg-warningForeground px-2 py-1 text-sm text-warning disabled:bg-warningForeground/50 disabled:text-warning/50",success:"rounded-md border border-success/20 bg-successForeground px-2 py-1 text-sm text-success disabled:bg-successForeground/50 disabled:text-success/50",action:"rounded-md border border-action/20 bg-actionForeground px-2 py-1 text-sm text-action disabled:bg-actionForeground/50 disabled:text-action/50"}}}),d=l.forwardRef((e,t)=>{let{className:r,variant:s,onStart:d,...u}=e,[g,m]=(0,l.useState)(!1);return(0,a.jsx)(i.E.button,{ref:t,variants:o,initial:!1,animate:g?"pressed":"unpressed",transition:{type:"spring",duration:.3,bounce:.5},onTapStart:()=>{m(!0)},onTap:()=>{m(!1)},onTapCancel:()=>{m(!1)},className:(0,n.cn)(c({variant:s,className:r})),...u})});d.displayName="Button"},2635:function(e,t,r){"use strict";r.d(t,{BX:function(){return n},Q:function(){return y},T0:function(){return c},WQ:function(){return d},oR:function(){return W},zt:function(){return s}});var a=r(2921);let n={images:{id:{type:"string"},name:{type:"string"},mediaType:{type:"string"},size:{type:"number"},imageUrl:{type:"string"},transformedImageUrl:{type:"string"},height:{type:"number"},width:{type:"number"}}},{Provider:s,useCreateIndexes:i,useCreateRelationships:l,useCreatePersister:o,useCreateQueries:c,useCreateStore:d,CellProps:u,useTable:g,useResultTable:m,useResultRow:h,RowView:p,useAddRowCallback:x,useCell:f,useHasTable:b,useValue:v,useHasValue:w,useHasRow:C,useDelRowCallback:j,useRowIds:y,useSetPartialRowCallback:N,useSetPartialValuesCallback:A,useRelationships:E,RemoteRowView:k,useQueries:z,useResultCell:S,useResultSortedRowIds:F,useResultTableCellIds:U,useSetCellCallback:R,useSliceIds:I,useIndexes:T,useSliceRowIds:B,useStore:W,useLocalRowIds:L,CellView:Q,ResultCellProps:V,ResultCellView:_,ResultRowView:G}=a},7005:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(8591),n=r(4516);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}}]);